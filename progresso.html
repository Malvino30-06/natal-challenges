<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Progresso dos Desafios</title>

    <style>
      body {
        margin: 0;
        padding: 20px;
        font-family: "Arial", sans-serif;
        background: linear-gradient(180deg, #b30000, #d60000, #ff3b3b);
        color: white;
        position: relative;
        overflow-x: hidden;
      }

      /* ‚ùÑÔ∏è Efeito neve */
      @keyframes snow {
        0% {
          transform: translateY(-10vh);
        }
        100% {
          transform: translateY(100vh);
        }
      }
      .snowflake {
        position: fixed;
        top: -10px;
        color: white;
        font-size: 18px;
        opacity: 0.8;
        animation: snow linear infinite;
      }

      h1 {
        text-align: center;
        margin-bottom: 25px;
        font-size: 30px;
        text-shadow: 0 0 10px #ffdede;
      }

      #pontosTotal {
        background: rgba(255, 255, 255, 0.9);
        padding: 12px 18px;
        border-radius: 12px;
        font-size: 18px;
        margin: 0 auto 25px auto;
        width: fit-content;
        color: #b30000;
        font-weight: bold;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.4);
      }

      .lista {
        max-width: 500px;
        margin: auto;
      }

      .item {
        background: rgba(255, 255, 255, 0.9);
        padding: 15px;
        border-radius: 12px;
        border: 2px solid #ffffffaa;
        margin-bottom: 12px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        color: #a00000;
        font-weight: bold;
        box-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
        transition: transform 0.2s;
      }

      .item:hover {
        transform: scale(1.02);
        box-shadow: 0 0 12px rgba(255, 255, 255, 0.6);
      }

      .status {
        padding: 6px 10px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: bold;
        color: white;
      }
      .feito {
        background: #3cb043; /* verde natal */
      }
      .pendente {
        background: #e6b800; /* dourado natal */
      }
      .bloqueado {
        background: #5a5a5a;
      }

      /* üîê Caixa de senha estilizada natalina */
      .senhaBox {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        justify-content: center;
        align-items: center;
      }
      .senhaConteudo {
        background: #fff;
        padding: 25px;
        border-radius: 12px;
        width: 300px;
        text-align: center;
        color: #b30000;
        border: 3px solid #ffcccc;
        box-shadow: 0 0 15px #ffffffaa;
      }
      .senhaConteudo button {
        padding: 8px 14px;
        margin: 5px;
        border: none;
        border-radius: 8px;
        font-weight: bold;
        background: #b30000;
        color: white;
        cursor: pointer;
      }
      .senhaConteudo button:hover {
        background: #ff1a1a;
      }
      #erroSenha {
        margin-top: 8px;
      }
    </style>
  </head>

  <body>
    <audio id="musicaNatal" loop autoplay>
      <source src="jingle.mp3" type="audio/mpeg" />
    </audio>
    <h1>üéÑ Progresso dos Desafios</h1>

    <div id="pontosTotal">Carregando...</div>

    <div class="lista" id="listaDias"></div>

    <!-- ‚ùó Modal da senha -->
    <div class="senhaBox" id="senhaBox">
      <div class="senhaConteudo">
        <h3>Digite a senha</h3>
        <input
          type="password"
          id="senhaInput"
          style="width: 90%; padding: 8px"
        /><br /><br />
        <button id="confirmarSenha">Confirmar</button>
        <button onclick="fecharSenha()">Cancelar</button>
        <p id="erroSenha" style="color: red; font-size: 14px"></p>
      </div>
    </div>

    <!-- ‚ùÑÔ∏è Gerador de flocos de neve -->
    <script>
      function criarNeve() {
        for (let i = 0; i < 20; i++) {
          let floco = document.createElement("div");
          floco.className = "snowflake";
          floco.innerHTML = "‚ùÑ";
          floco.style.left = Math.random() * 100 + "vw";
          floco.style.fontSize = 14 + Math.random() * 10 + "px";
          floco.style.animationDuration = 4 + Math.random() * 6 + "s";
          floco.style.opacity = 0.6 + Math.random() * 0.4;
          document.body.appendChild(floco);
        }
      }
      criarNeve();
    </script>

    <script>
      const dias = [
        { dia: 20, nome: "O quanto voc√™ lembra?", senha: "FOGUETE" },
        { dia: 21, nome: "UNO!!!", senha: "AMERICANA" },
        { dia: 22, nome: "√Ågua √© muito bom", senha: "LUA" },
        { dia: 23, nome: "Retrato Perfeito", senha: "BAURU" },
        { dia: 24, nome: "Texto de Natal", senha: "IMAGINARIO" },
        { dia: 25, nome: "Foto de Natal", senha: "MASCARA" },
        { dia: 26, nome: "Clima P√≥s-Natal", senha: "BOLSA" },
        { dia: 27, nome: "Origami no Olho", senha: "COMERCIO" },
        { dia: 28, nome: "Fireboy & Watergirl", senha: "ACADEMIA" },
        { dia: 29, nome: "Que Som √© Esse?", senha: "RODEIO" },
        { dia: 30, nome: "Desafio das m√∫sicas", senha: "FORMATURA" },
        { dia: 31, nome: "Mensagem para N√≥s do Futuro", senha: "LISO" },
      ];

      function getStatus(dia) {
        const feito = localStorage.getItem("dia_" + dia);
        if (feito === "ok") return "feito";

        const desbloqueado = localStorage.getItem("desbloqueado_" + dia);
        return desbloqueado ? "pendente" : "bloqueado";
      }

      function atualizarPontos() {
        let pts = localStorage.getItem("pontosTotais") || 0;
        document.getElementById("pontosTotal").textContent =
          "Pontos acumulados: " + pts;
      }

      function carregarDias() {
        const lista = document.getElementById("listaDias");
        lista.innerHTML = "";

        dias.forEach((d) => {
          const st = getStatus(d.dia);

          const div = document.createElement("div");
          div.className = "item";

          let textoStatus =
            st === "feito"
              ? "Conclu√≠do"
              : st === "pendente"
              ? "Pendente"
              : "Bloqueado";

          div.innerHTML = `
            <span><strong>${d.dia}</strong> ‚Äì ${d.nome}</span>
            <div class="status ${st}">${textoStatus}</div>
          `;

          div.onclick = () => abrirDia(d);

          lista.appendChild(div);
        });
      }

      atualizarPontos();
      carregarDias();

      let diaSelecionado = null;

      function abrirDia(obj) {
        const status = getStatus(obj.dia);

        if (status === "bloqueado") {
          diaSelecionado = obj;
          document.getElementById("senhaBox").style.display = "flex";
        } else {
          window.location.href = `missao_base.html?dia=${obj.dia}`;
        }
      }

      function fecharSenha() {
        document.getElementById("senhaBox").style.display = "none";
        document.getElementById("senhaInput").value = "";
        document.getElementById("erroSenha").innerText = "";
      }

      document.getElementById("confirmarSenha").onclick = function () {
        const digitada = document.getElementById("senhaInput").value;
        if (digitada === diaSelecionado.senha) {
          localStorage.setItem(`desbloqueado_${diaSelecionado.dia}`, "true");
          fecharSenha();
          carregarDias();
        } else {
          document.getElementById("erroSenha").innerText = "Senha incorreta";
        }
      };
    </script>
    <!-- BOT√ïES SECRETOS -->
    <div
      class="secret-btn"
      onclick="abrirSecreta(1)"
      style="top: 10px; left: 10px"
    ></div>
    <div
      class="secret-btn"
      onclick="abrirSecreta(2)"
      style="top: 10px; right: 10px"
    ></div>
    <div
      class="secret-btn"
      onclick="abrirSecreta(3)"
      style="bottom: 10px; left: 10px"
    ></div>
    <div
      class="secret-btn"
      onclick="abrirSecreta(4)"
      style="bottom: 10px; right: 10px"
    ></div>
    <div
      class="secret-btn"
      onclick="abrirSecreta(5)"
      style="top: 50%; left: 5px"
    ></div>
    <div
      class="secret-btn"
      onclick="abrirSecreta(6)"
      style="top: 50%; right: 5px"
    ></div>
    <style>
      .secret-btn {
        position: fixed;
        width: 30px;
        height: 30px;
        opacity: 0; /* invis√≠vel */
        cursor: pointer;
        z-index: 999;
      }
      .secret-btn:hover {
        opacity: 1; /* s√≥ para voc√™ visualizar ‚Äî remova depois */
        background: black;
        border-radius: 50%;
      }
    </style>

    <script>
      function abrirSecreta(n) {
        window.location.href = `missao_secreta_base.html?n=${n}`;
      }
    </script>
  </body>
</html>
